import{R as r,r as c}from"./components-DK7TFnBr.js";import{M as Y,e as g,f as me,g as fe,s as pe,t as P,d as h,K as _,A as R,D as ge,E as Ee,F as he,G as ve,v as be,T as Q,k as ee,B as Me,c as S,H as z,w as Fe,W as ye,P as ke,J as Ce,S as xe}from"./ButtonGroup-DgNny8n-.js";import{E as Se,p as Pe,u as Ne}from"./context-BTIEeRbG.js";import{S as Ie,F as we}from"./context-C3Cd1xwR.js";import{_ as De,a as Be,b as Te,c as $,d as Le,C as He,S as _e}from"./TitleBar-aGDsqF3i.js";var Re=function(t){return r.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),r.createElement("path",{fillRule:"evenodd",d:"M8.344 3.692a2.25 2.25 0 0 1 3.312 0l3.854 4.19a3.75 3.75 0 0 1 .99 2.538v3.33a2.75 2.75 0 0 1-2.75 2.75h-1.75a1.5 1.5 0 0 1-1.5-1.5v-2h-1v2a1.5 1.5 0 0 1-1.5 1.5h-1.75a2.75 2.75 0 0 1-2.75-2.75v-3.33c0-.94.353-1.847.99-2.539l3.854-4.189Zm2.208 1.016a.75.75 0 0 0-1.104 0l-3.854 4.189a2.25 2.25 0 0 0-.594 1.523v3.33c0 .69.56 1.25 1.25 1.25h1.75v-2a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v2h1.75c.69 0 1.25-.56 1.25-1.25v-3.33a2.25 2.25 0 0 0-.594-1.523l-3.854-4.19Z"}))};Re.displayName="HomeIcon";var L={Backdrop:"Polaris-Backdrop",transparent:"Polaris-Backdrop--transparent",belowNavigation:"Polaris-Backdrop--belowNavigation"};function Ae(){const e=c.useContext(Ie);if(!e)throw new Y("No ScrollLockManager was provided.");return e}function Oe(e){const t=Ae();return c.useEffect(()=>(t.registerScrollLock(),()=>{t.unregisterScrollLock()}),[t]),null}function je(e){const{onClick:t,onTouchStart:i,belowNavigation:a,transparent:n,setClosing:o}=e,s=g(L.Backdrop,a&&L.belowNavigation,n&&L.transparent),d=()=>{o&&o(!0)},l=()=>{o&&o(!1),t&&t()};return r.createElement(r.Fragment,null,r.createElement(Oe,null),r.createElement("div",{className:s,onClick:l,onTouchStart:i,onMouseDown:d}))}var Ue={InlineGrid:"Polaris-InlineGrid"};function Ge({children:e,columns:t,gap:i,alignItems:a}){const n={...fe("inline-grid","grid-template-columns",We(t)),...me("inline-grid","gap","space",i),"--pc-inline-grid-align-items":a};return r.createElement("div",{className:Ue.InlineGrid,style:pe(n)},e)}function We(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).map(([t,i])=>[t,K(i)])):K(e)}function K(e){if(e)return typeof e=="number"||!isNaN(Number(e))?`repeat(${Number(e)}, minmax(0, 1fr))`:typeof e=="string"?e:e.map(t=>{switch(t){case"oneThird":return"minmax(0, 1fr)";case"oneHalf":return"minmax(0, 1fr)";case"twoThirds":return"minmax(0, 2fr)"}}).join(" ")}const Ve=c.createContext(void 0),ze=c.memo(function({children:t,disabled:i,root:a}){return c.useEffect(()=>{if(i||!a)return;const n=$e(a)?a.current:a;!n||n.querySelector("[autofocus]")||P(n,!1)},[i,a]),r.createElement(r.Fragment,null,t)});function $e(e){return e.current!==void 0}function Ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){var i=function(o){return t&&c.isValidElement(o)?t(o):o},a=Object.create(null);return e&&c.Children.map(e,function(n){return n}).forEach(function(n){a[n.key]=i(n)}),a}function qe(e,t){e=e||{},t=t||{};function i(f){return f in t?t[f]:e[f]}var a=Object.create(null),n=[];for(var o in e)o in t?n.length&&(a[o]=n,n=[]):n.push(o);var s,d={};for(var l in t){if(a[l])for(s=0;s<a[l].length;s++){var m=a[l][s];d[a[l][s]]=i(m)}d[l]=i(l)}for(s=0;s<n.length;s++)d[n[s]]=i(n[s]);return d}function b(e,t,i){return i[t]!=null?i[t]:e.props[t]}function Xe(e,t){return A(e.children,function(i){return c.cloneElement(i,{onExited:t.bind(null,i),in:!0,appear:b(i,"appear",e),enter:b(i,"enter",e),exit:b(i,"exit",e)})})}function Ze(e,t,i){var a=A(e.children),n=qe(t,a);return Object.keys(n).forEach(function(o){var s=n[o];if(c.isValidElement(s)){var d=o in t,l=o in a,m=t[o],f=c.isValidElement(m)&&!m.props.in;l&&(!d||f)?n[o]=c.cloneElement(s,{onExited:i.bind(null,s),in:!0,exit:b(s,"exit",e),enter:b(s,"enter",e)}):!l&&d&&!f?n[o]=c.cloneElement(s,{in:!1}):l&&d&&c.isValidElement(m)&&(n[o]=c.cloneElement(s,{onExited:i.bind(null,s),in:m.props.in,exit:b(s,"exit",e),enter:b(s,"enter",e)}))}}),n}var Je=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Ye={component:"div",childFactory:function(t){return t}},O=(function(e){De(t,e);function t(a,n){var o;o=e.call(this,a,n)||this;var s=o.handleExited.bind(Ke(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var i=t.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(n,o){var s=o.children,d=o.handleExited,l=o.firstRender;return{children:l?Xe(n,d):Ze(n,s,d),firstRender:!1}},i.handleExited=function(n,o){var s=A(this.props.children);n.key in s||(n.props.onExited&&n.props.onExited(o),this.mounted&&this.setState(function(d){var l=Be({},d.children);return delete l[n.key],{children:l}}))},i.render=function(){var n=this.props,o=n.component,s=n.childFactory,d=Te(n,["component","childFactory"]),l=this.state.contextValue,m=Je(this.state.children).map(s);return delete d.appear,delete d.enter,delete d.exit,o===null?r.createElement($.Provider,{value:l},m):r.createElement($.Provider,{value:l},r.createElement(o,d,m))},t})(r.Component);O.propTypes={};O.defaultProps=Ye;var H={Body:"Polaris-Modal__Body",NoScrollBody:"Polaris-Modal__NoScrollBody",IFrame:"Polaris-Modal__IFrame"},q={Section:"Polaris-Modal-Section",titleHidden:"Polaris-Modal-Section--titleHidden"};function te({children:e,flush:t=!1,subdued:i=!1,titleHidden:a=!1}){const n=g(q.Section,a&&q.titleHidden);return r.createElement("div",{className:n},r.createElement(h,Object.assign({as:"section",padding:t?"0":"400"},a&&{paddingInlineEnd:"0"},i&&{background:"bg-surface-tertiary"}),e))}var u={Container:"Polaris-Modal-Dialog__Container",Dialog:"Polaris-Modal-Dialog",Modal:"Polaris-Modal-Dialog__Modal",limitHeight:"Polaris-Modal-Dialog--limitHeight",sizeSmall:"Polaris-Modal-Dialog--sizeSmall",sizeLarge:"Polaris-Modal-Dialog--sizeLarge",sizeFullScreen:"Polaris-Modal-Dialog--sizeFullScreen",animateFadeUp:"Polaris-Modal-Dialog--animateFadeUp",entering:"Polaris-Modal-Dialog--entering",exiting:"Polaris-Modal-Dialog--exiting",exited:"Polaris-Modal-Dialog--exited",entered:"Polaris-Modal-Dialog--entered"};function Qe({trapping:e}){const t=c.useContext(we),i=c.useId();if(!t)throw new Y("No FocusManager was provided.");const{trapFocusList:a,add:n,remove:o}=t,s=a[0]===i,d=c.useMemo(()=>({canSafelyFocus:s}),[s]);return c.useEffect(()=>{if(e)return n(i),()=>{o(i)}},[n,i,o,e]),d}function et({trapping:e=!0,children:t}){const{canSafelyFocus:i}=Qe({trapping:e}),a=c.useRef(null),[n,o]=c.useState(!0);c.useEffect(()=>{const l=i&&!(a.current&&a.current.contains(document.activeElement))?!e:!0;o(l)},[i,e]);const s=l=>{const m=a.current&&a.current.contains(document.activeElement);e===!1||!a.current||m||l.target instanceof Element&&l.target.matches(`${Pe.selector} *`)||i&&l.target instanceof HTMLElement&&a.current!==l.target&&!a.current.contains(l.target)&&P(a.current)},d=l=>{if(e===!1||!a.current)return;const m=ge(a.current),f=Ee(a.current);l.target===f&&!l.shiftKey&&(l.preventDefault(),he(a.current)),l.target===m&&l.shiftKey&&(l.preventDefault(),ve(a.current))};return r.createElement(ze,{disabled:n,root:a.current},r.createElement("div",{ref:a},r.createElement(Se,{event:"focusin",handler:s}),r.createElement(_,{keyCode:R.Tab,keyEvent:"keydown",handler:d}),t))}function tt({instant:e,labelledBy:t,children:i,limitHeight:a,size:n,onClose:o,onExited:s,onEntered:d,setClosing:l,hasToasts:m,...f}){const N=Ne(),E=c.useRef(null),y=c.useContext(Ve);let M;y&&(M=y.toastMessages);const I=g(u.Modal,n&&u[be("size",n)],a&&u.limitHeight),p=e?Le:at;c.useEffect(()=>{E.current&&!E.current.contains(document.activeElement)&&P(E.current)},[]);const w=()=>{l&&l(!0)},k=()=>{l&&l(!1),o()},C=r.createElement("div",{"aria-live":"assertive"},M?M.map(F=>r.createElement(Q,{visuallyHidden:!0,as:"p",key:F.id},F.content)):null);return r.createElement(p,Object.assign({},f,{nodeRef:E,mountOnEnter:!0,unmountOnExit:!0,timeout:parseInt(N.motion["motion-duration-200"],10),onEntered:d,onExited:s}),r.createElement("div",{className:u.Container,"data-polaris-layer":!0,"data-polaris-overlay":!0,ref:E},r.createElement(et,null,r.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":t,"aria-labelledby":t,tabIndex:-1,className:u.Dialog},r.createElement("div",{className:I},r.createElement(_,{keyCode:R.Escape,keyEvent:"keydown",handler:w}),r.createElement(_,{keyCode:R.Escape,handler:k}),i),C))))}const nt={appear:g(u.animateFadeUp,u.entering),appearActive:g(u.animateFadeUp,u.entered),enter:g(u.animateFadeUp,u.entering),enterActive:g(u.animateFadeUp,u.entered),exit:g(u.animateFadeUp,u.exiting),exitActive:g(u.animateFadeUp,u.exited)};function at({children:e,...t}){return r.createElement(He,Object.assign({},t,{classNames:nt}),e)}function X({pressed:e,onClick:t}){const i=ee();return r.createElement(Me,{variant:"tertiary",pressed:e,icon:_e,onClick:t,accessibilityLabel:i.translate("Polaris.Common.close")})}function rt({id:e,children:t,closing:i,titleHidden:a,onClose:n}){return a||!t?r.createElement(h,{position:"absolute",insetInlineEnd:"400",insetBlockStart:"400",zIndex:"1"},r.createElement(X,{onClick:n})):r.createElement(h,{paddingBlockStart:"400",paddingBlockEnd:"400",paddingInlineStart:"400",paddingInlineEnd:"400",borderBlockEndWidth:"025",borderColor:"border",background:"bg-surface-tertiary"},r.createElement(Ge,{columns:{xs:"1fr auto"},gap:"400"},r.createElement(S,{gap:"400",blockAlign:"center"},r.createElement(Q,{id:e,as:"h2",variant:"headingMd",breakWord:!0},t)),r.createElement(X,{pressed:i,onClick:n})))}function it({primaryAction:e,secondaryActions:t,children:i}){const a=e&&z(e,{variant:"primary"})||null,n=t&&z(t)||null,o=a||n?r.createElement(S,{gap:"200"},n,a):null;return r.createElement(S,{gap:"400",blockAlign:"center"},r.createElement(h,{borderColor:"border",borderBlockStartWidth:"025",padding:"400",width:"100%"},r.createElement(S,{gap:"400",blockAlign:"center",align:"space-between"},r.createElement(h,null,i),o)))}const Z=200,ot=400,lt=function({children:t,title:i,titleHidden:a=!1,src:n,iFrameName:o,open:s,instant:d,sectioned:l,loading:m,size:f,limitHeight:N,footer:E,primaryAction:y,secondaryActions:M,onScrolledToBottom:I,activator:p,activatorWrapper:w="div",onClose:k,onIFrameLoad:C,onTransitionEnd:F,noScroll:ne}){const[ae,D]=c.useState(Z),[re,j]=c.useState(!1),U=c.useId(),G=c.useRef(null),ie=ee().translate("Polaris.Modal.iFrameTitle");let W,V;const oe=c.useCallback(()=>{F&&F()},[F]),le=c.useCallback(()=>{D(Z);const v=p&&J(p)?p&&p.current:G.current;v&&requestAnimationFrame(()=>P(v))},[p]),se=c.useCallback(v=>{const x=v.target;if(x&&x.contentWindow)try{D(x.contentWindow.document.body.scrollHeight)}catch{D(ot)}C!=null&&C(v)},[C]);if(s){const v=!E&&!y&&!M?null:r.createElement(it,{primaryAction:y,secondaryActions:M},E),x=l?Fe(t,te,{titleHidden:a}):t,T=m?r.createElement(h,{padding:"400"},r.createElement(S,{gap:"400",align:"center",blockAlign:"center"},r.createElement(xe,null))):x,de=ne?r.createElement("div",{className:H.NoScrollBody},r.createElement(h,{width:"100%",overflowX:"hidden",overflowY:"hidden"},T)):r.createElement(Ce,{shadow:!0,className:H.Body,onScrolledToBottom:I},T),ue=n?r.createElement("iframe",{name:o,title:ie,src:n,className:H.IFrame,onLoad:se,style:{height:`${ae}px`}}):de;W=r.createElement(tt,{instant:d,labelledBy:U,onClose:k,onEntered:oe,onExited:le,size:f,limitHeight:N,setClosing:j},r.createElement(rt,{titleHidden:a,id:U,closing:re,onClose:k},i),ue,v),V=r.createElement(je,{setClosing:j,onClick:k})}const B=!d,ce=p&&!J(p)?r.createElement(h,{ref:G,as:w},p):null;return r.createElement(ye.Provider,{value:!0},ce,r.createElement(ke,{idPrefix:"modal"},r.createElement(O,{appear:B,enter:B,exit:B},W),V))};function J(e){return Object.prototype.hasOwnProperty.call(e,"current")}lt.Section=te;export{Ge as I,lt as M,Re as S};
