import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{R as H,u as te,b as ie,c as ne,r as x}from"./components-DK7TFnBr.js";import{T as re}from"./TitleBar-aGDsqF3i.js";import{B as h,I as p,b as r,c as o,T as i,C as u,d as S,a as k}from"./ButtonGroup-DgNny8n-.js";import{S as ae,M as L}from"./Modal-Bmn2ovDN.js";import{P as oe,S as G,B as g}from"./Page-BePJ91lz.js";import{L as M}from"./Layout-CR-2O1w0.js";import{S as de}from"./RefreshIcon.svg-dwuhltUX.js";import{E as le}from"./EmptyState-B0o5Meh0.js";import{D as ce}from"./DataTable-whaFcay8.js";import{S as he}from"./ImageIcon.svg-IgX9GCoh.js";import{S as O}from"./XSmallIcon.svg-24jpfNfb.js";import{a as A,S as pe}from"./CheckIcon.svg-DaHPfNLC.js";import{S as z}from"./MagicIcon.svg-Cq1XyIoH.js";import{S as U}from"./HashtagIcon.svg-Bx3g7bo8.js";import{L as d}from"./List-DxpaJmNy.js";import{T as ge}from"./Tabs-DgaInJU_.js";import{P as xe}from"./ProgressBar-CUIdQP7m.js";import{B as ue}from"./Banner-Bed-1WKG.js";import"./context-BTIEeRbG.js";import"./context-C3Cd1xwR.js";import"./context-xI5rfeLT.js";import"./FormLayout-DjxgjPJB.js";import"./EditIcon.svg-BMATWsJy.js";import"./DuplicateIcon.svg-Sg-cNaY3.js";import"./InfoIcon.svg-DN5ziCfk.js";import"./PlusIcon.svg-BfuTfPyI.js";var E=function(l){return H.createElement("svg",Object.assign({viewBox:"0 0 20 20"},l),H.createElement("path",{fillRule:"evenodd",d:"M3 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0Zm7-5.5a5.497 5.497 0 0 0-4.737 2.703l2 1.999c.472.472.737 1.113.737 1.78v.518a.5.5 0 0 0 .5.5 2 2 0 0 1 2 2v1.478a5.504 5.504 0 0 0 4.52-3.228h-1.02a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 0-.75-.75h-2.5a1.755 1.755 0 0 1-1.07-3.144l.463-.356a.393.393 0 0 0 .152-.312v-.04c0-.885.62-1.624 1.449-1.808a5.531 5.531 0 0 0-.994-.09Zm2.875.81a1.85 1.85 0 0 1-1.477.735.352.352 0 0 0-.353.353v.04c0 .587-.271 1.14-.736 1.499l-.462.356a.256.256 0 0 0 .153.457h2.5a2.25 2.25 0 0 1 2.236 2h.713a5.497 5.497 0 0 0-2.574-5.44Zm-8.375 4.69c0-.443.052-.875.152-1.288l1.55 1.55c.19.191.298.45.298.72v.518a2 2 0 0 0 2 2 .5.5 0 0 1 .5.5v1.41a5.502 5.502 0 0 1-4.5-5.41Z"}))};E.displayName="GlobeIcon";function Ke(){var R,W,$;const{collections:n}=te(),l=ie(),c=ne(),[t,F]=x.useState(null),[K,f]=x.useState(!1),[m,V]=x.useState(0),[b,y]=x.useState(""),[j,I]=x.useState(""),[Z,C]=x.useState(""),[me,je]=x.useState("Product"),[X,B]=x.useState(!1),Q=s=>{var a;F(s),y(s.title),I(((a=s.descriptionHtml)==null?void 0:a.replace(/<[^>]*>/g,""))||""),f(!0)},Y=()=>{t&&(B(!0),l.submit({actionType:"generateMeta",title:t.title},{method:"POST"}),setTimeout(()=>{B(!1)},2e3))},q=()=>{t&&(l.submit({actionType:"updateSEO",collectionId:t.id,seoTitle:b,seoDescription:j},{method:"POST"}),setTimeout(()=>{f(!1),c("/app/seo-tools",{replace:!0})},500))};x.useEffect(()=>{var s;(s=l.data)!=null&&s.generatedMeta&&(y(l.data.generatedMeta.title),I(l.data.generatedMeta.description),C(l.data.generatedMeta.keywords))},[l.data]);const J=s=>s>=80?e.jsxs(g,{tone:"success",children:[s,"/100"]}):s>=60?e.jsxs(g,{tone:"warning",children:[s,"/100"]}):e.jsxs(g,{tone:"critical",children:[s,"/100"]}),_=s=>s>=80?"#10b981":s>=60?"#f59e0b":"#ef4444",ee=[{id:"analyzer",content:"SEO Analyzer",icon:G},{id:"meta",content:"Meta Tags",icon:U},{id:"schema",content:"Schema Markup",icon:E},{id:"suggestions",content:"Suggestions",icon:z}],se=[...n].sort((s,a)=>s.seoScore-a.seoScore);return e.jsxs("div",{style:{minHeight:"100vh"},children:[e.jsx(re,{title:"SEO Optimization Tools",primaryAction:{content:"View Collections",onAction:()=>c("/app/collections-enhanced")},secondaryActions:[{content:"Home",onAction:()=>c("/app")},{content:"View Collections",onAction:()=>c("/app/collections-enhanced")},{content:"Create Collection",onAction:()=>c("/app")},{content:"Bulk Operations",onAction:()=>c("/app/bulk-operations")}]}),e.jsx("div",{style:{position:"sticky",top:0,backgroundColor:"white",borderBottom:"1px solid #e5e7eb",zIndex:100,padding:"0.5rem 1rem"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"0.5rem",maxWidth:"1200px",margin:"0 auto"},children:[e.jsxs(h,{size:"large",fullWidth:!0,onClick:()=>c("/app"),children:[e.jsx(p,{source:ae})," Home"]}),e.jsx(h,{size:"large",fullWidth:!0,onClick:()=>c("/app/collections-enhanced"),children:"View All Collections"}),e.jsx(h,{size:"large",fullWidth:!0,onClick:()=>c("/app"),children:"Create Collection"}),e.jsx(h,{size:"large",fullWidth:!0,onClick:()=>c("/app/bulk-operations"),children:"Bulk Operations"}),e.jsx(h,{variant:"primary",size:"large",fullWidth:!0,onClick:()=>c("/app/seo-tools"),children:"SEO Tools"})]})}),e.jsxs(oe,{children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #3b82f6 0%, #10b981 50%, #6366f1 100%)",padding:"2rem",borderRadius:"16px",marginBottom:"1.5rem",position:"relative",overflow:"hidden"},children:[e.jsx("style",{children:`
            @keyframes searchPulse {
              0%, 100% { transform: scale(1); opacity: 0.8; }
              50% { transform: scale(1.1); opacity: 1; }
            }
            
            .search-icon {
              animation: searchPulse 2s ease-in-out infinite;
            }
            
            .seo-card {
              transition: all 0.3s ease;
            }
            
            .seo-card:hover {
              transform: translateY(-5px);
              box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            }
            
            .score-ring {
              transition: all 0.5s ease;
            }
          `}),e.jsxs(r,{gap:"400",children:[e.jsxs(o,{align:"space-between",children:[e.jsxs("div",{children:[e.jsx(i,{as:"h1",variant:"headingXl",children:e.jsx("span",{style:{color:"white",fontWeight:"bold"},children:"SEO Optimization Center"})}),e.jsx(i,{variant:"bodyLg",children:e.jsx("span",{style:{color:"rgba(255,255,255,0.9)"},children:"Boost your collections' search visibility"})})]}),e.jsx("div",{className:"search-icon",children:e.jsx(p,{source:G,tone:"base"})})]}),e.jsxs(o,{gap:"200",children:[e.jsxs(g,{tone:"success",children:[n.filter(s=>s.seoScore>=80).length," Optimized"]}),e.jsxs(g,{tone:"warning",children:[n.filter(s=>s.seoScore>=60&&s.seoScore<80).length," Needs Work"]}),e.jsxs(g,{tone:"critical",children:[n.filter(s=>s.seoScore<60).length," Poor SEO"]})]})]})]}),e.jsxs(M,{children:[e.jsx(M.Section,{children:e.jsx(u,{children:e.jsxs(r,{gap:"400",children:[e.jsxs(o,{align:"space-between",children:[e.jsx(i,{variant:"headingMd",children:"Collection SEO Analysis"}),e.jsx(h,{icon:de,onClick:()=>c("/app/seo-tools",{replace:!0}),children:"Re-analyze"})]}),n.length===0?e.jsx(le,{heading:"No collections to analyze",image:"https://cdn.shopify.com/s/files/1/0262/4071/2726/files/emptystate-files.png",children:e.jsx("p",{children:"Create collections first to analyze their SEO"})}):e.jsx(ce,{columnContentTypes:["text","numeric","text","text","text"],headings:["Collection","SEO Score","Issues","Opportunities","Actions"],rows:se.map(s=>{var P,D,N;const a=[],v=[];return s.descriptionHtml||a.push("No description"),(P=s.image)!=null&&P.url||a.push("No image"),(D=s.image)!=null&&D.altText||a.push("No alt text"),s.productsCount===0&&a.push("No products"),s.title.length<30&&v.push("Expand title"),s.handle.includes("-")||v.push("Optimize URL"),[e.jsxs(o,{gap:"200",align:"center",children:[(N=s.image)!=null&&N.url?e.jsx("img",{src:s.image.url,alt:s.title,style:{width:"32px",height:"32px",objectFit:"cover",borderRadius:"4px"}}):e.jsx(p,{source:he}),e.jsxs("div",{children:[e.jsx(i,{variant:"bodyMd",fontWeight:"semibold",children:s.title}),e.jsxs(i,{variant:"bodySm",tone:"subdued",children:["/",s.handle]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",border:`3px solid ${_(s.seoScore)}`,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"12px"},children:s.seoScore}),J(s.seoScore)]}),a.length>0?e.jsxs(o,{gap:"100",wrap:!0,children:[a.slice(0,2).map((w,T)=>e.jsx(g,{tone:"critical",children:e.jsxs(o,{gap:"050",children:[e.jsx(p,{source:O}),w]})},T)),a.length>2&&e.jsxs(g,{children:["+",a.length-2," more"]})]}):e.jsx(g,{tone:"success",children:e.jsxs(o,{gap:"050",children:[e.jsx(p,{source:A}),"All good"]})}),v.length>0?e.jsx(o,{gap:"100",wrap:!0,children:v.map((w,T)=>e.jsx(g,{tone:"info",children:w},T))}):e.jsx(i,{variant:"bodySm",tone:"subdued",children:"-"}),e.jsx(h,{size:"slim",onClick:()=>Q(s),children:"Optimize"})]})})]})})}),e.jsx(M.Section,{variant:"oneThird",children:e.jsxs(r,{gap:"400",children:[e.jsx(u,{children:e.jsxs(r,{gap:"300",children:[e.jsx(i,{variant:"headingMd",children:"Overall SEO Health"}),e.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[e.jsx("div",{style:{width:"120px",height:"120px",margin:"0 auto",background:`conic-gradient(
                      #10b981 0deg ${n.filter(s=>s.seoScore>=80).length/n.length*360}deg,
                      #f59e0b ${n.filter(s=>s.seoScore>=80).length/n.length*360}deg ${(n.filter(s=>s.seoScore>=80).length+n.filter(s=>s.seoScore>=60&&s.seoScore<80).length)/n.length*360}deg,
                      #ef4444 ${(n.filter(s=>s.seoScore>=80).length+n.filter(s=>s.seoScore>=60&&s.seoScore<80).length)/n.length*360}deg
                    )`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"100px",height:"100px",background:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{variant:"heading2xl",children:n.length>0?Math.round(n.reduce((s,a)=>s+a.seoScore,0)/n.length):0})})}),e.jsx(i,{variant:"bodySm",tone:"subdued",children:"Average SEO Score"})]})]})}),e.jsx(u,{children:e.jsxs(r,{gap:"300",children:[e.jsx(i,{variant:"headingMd",children:"Quick Actions"}),e.jsxs(r,{gap:"200",children:[e.jsx(h,{fullWidth:!0,icon:z,children:"Generate All Meta Tags"}),e.jsx(h,{fullWidth:!0,icon:E,children:"Create Sitemap"}),e.jsx(h,{fullWidth:!0,icon:U,children:"Bulk Update Keywords"})]})]})}),e.jsx(u,{children:e.jsxs(r,{gap:"300",children:[e.jsx(i,{variant:"headingMd",children:"SEO Tips"}),e.jsxs(d,{type:"bullet",children:[e.jsx(d.Item,{children:e.jsx(i,{variant:"bodySm",children:"Keep titles between 30-60 characters"})}),e.jsx(d.Item,{children:e.jsx(i,{variant:"bodySm",children:"Write descriptions of 150-160 characters"})}),e.jsx(d.Item,{children:e.jsx(i,{variant:"bodySm",children:"Use descriptive URLs with hyphens"})}),e.jsx(d.Item,{children:e.jsx(i,{variant:"bodySm",children:"Add alt text to all images"})}),e.jsx(d.Item,{children:e.jsx(i,{variant:"bodySm",children:"Include relevant keywords naturally"})})]})]})})]})})]}),e.jsx(L,{open:K,onClose:()=>f(!1),title:`Optimize SEO: ${t==null?void 0:t.title}`,size:"large",primaryAction:{content:"Save Changes",onAction:q,loading:l.state==="submitting"},secondaryActions:[{content:"Cancel",onAction:()=>f(!1)}],children:e.jsx(L.Section,{children:e.jsxs(ge,{tabs:ee,selected:m,onSelect:V,children:[m===0&&e.jsx(u,{children:e.jsxs(r,{gap:"400",children:[e.jsx(i,{variant:"headingMd",children:"SEO Analysis"}),t&&e.jsxs(r,{gap:"300",children:[e.jsxs(S,{padding:"300",background:"bg-surface-neutral-subdued",borderRadius:"200",children:[e.jsxs(o,{align:"space-between",children:[e.jsx(i,{variant:"bodyMd",children:"Current SEO Score"}),e.jsxs(i,{variant:"headingLg",children:[t.seoScore,"/100"]})]}),e.jsx(xe,{progress:t.seoScore,tone:t.seoScore>=80?"success":t.seoScore>=60?"warning":"critical"})]}),e.jsxs(r,{gap:"200",children:[e.jsx(i,{variant:"headingSm",children:"Issues Found"}),!t.descriptionHtml&&e.jsxs(o,{gap:"200",children:[e.jsx(p,{source:O,tone:"critical"}),e.jsx(i,{variant:"bodyMd",children:"Missing meta description"})]}),t.title.length<30&&e.jsxs(o,{gap:"200",children:[e.jsx(p,{source:pe,tone:"warning"}),e.jsx(i,{variant:"bodyMd",children:"Title too short (under 30 chars)"})]}),!((R=t.image)!=null&&R.altText)&&e.jsxs(o,{gap:"200",children:[e.jsx(p,{source:O,tone:"critical"}),e.jsx(i,{variant:"bodyMd",children:"Missing image alt text"})]})]}),e.jsxs(r,{gap:"200",children:[e.jsx(i,{variant:"headingSm",children:"Recommendations"}),e.jsxs(o,{gap:"200",children:[e.jsx(p,{source:A,tone:"success"}),e.jsx(i,{variant:"bodyMd",children:"Add focus keywords to title"})]}),e.jsxs(o,{gap:"200",children:[e.jsx(p,{source:A,tone:"success"}),e.jsx(i,{variant:"bodyMd",children:"Include call-to-action in description"})]})]})]})]})}),m===1&&e.jsx(u,{children:e.jsxs(r,{gap:"400",children:[e.jsxs(o,{align:"space-between",children:[e.jsx(i,{variant:"headingMd",children:"Meta Tags"}),e.jsx(h,{icon:z,onClick:Y,loading:X,children:"AI Generate"})]}),e.jsx(k,{label:"SEO Title",value:b,onChange:y,helpText:`${b.length}/60 characters`,autoComplete:"off"}),e.jsx(k,{label:"Meta Description",value:j,onChange:I,multiline:3,helpText:`${j.length}/160 characters`,autoComplete:"off"}),e.jsx(k,{label:"Keywords",value:Z,onChange:C,placeholder:"summer, collection, sale, fashion",helpText:"Comma-separated keywords",autoComplete:"off"}),e.jsx(S,{padding:"300",background:"bg-surface-neutral-subdued",borderRadius:"200",children:e.jsxs(r,{gap:"200",children:[e.jsx(i,{variant:"headingSm",children:"Preview"}),e.jsx(i,{variant:"bodyMd",fontWeight:"semibold",tone:"info",children:b||(t==null?void 0:t.title)}),e.jsxs(i,{variant:"bodySm",tone:"subdued",children:["https://yourstore.com/collections/",t==null?void 0:t.handle]}),e.jsx(i,{variant:"bodySm",children:j||"No description provided"})]})})]})}),m===2&&e.jsx(u,{children:e.jsxs(r,{gap:"400",children:[e.jsx(i,{variant:"headingMd",children:"Schema Markup"}),e.jsx(S,{padding:"300",background:"bg-surface-neutral-subdued",borderRadius:"200",children:e.jsx("pre",{style:{fontSize:"12px",overflow:"auto"},children:`{
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "${t==null?void 0:t.title}",
  "description": "${j}",
  "url": "https://yourstore.com/collections/${t==null?void 0:t.handle}",
  "numberOfItems": ${t==null?void 0:t.productsCount},
  "image": "${((W=t==null?void 0:t.image)==null?void 0:W.url)||""}",
  "potentialAction": {
    "@type": "ViewAction",
    "target": "https://yourstore.com/collections/${t==null?void 0:t.handle}"
  }
}`})}),e.jsx(h,{fullWidth:!0,children:"Copy Schema Markup"})]})}),m===3&&e.jsx(u,{children:e.jsxs(r,{gap:"400",children:[e.jsx(i,{variant:"headingMd",children:"AI Suggestions"}),e.jsxs(r,{gap:"300",children:[e.jsx(S,{padding:"300",background:"bg-surface-success-subdued",borderRadius:"200",children:e.jsxs(r,{gap:"100",children:[e.jsx(i,{variant:"headingSm",children:"Title Suggestions"}),e.jsxs(d,{type:"bullet",children:[e.jsxs(d.Item,{children:[t==null?void 0:t.title," - Best Deals"]}),e.jsxs(d.Item,{children:["Shop ",t==null?void 0:t.title," Collection"]}),e.jsxs(d.Item,{children:[t==null?void 0:t.title," | Up to 50% Off"]})]})]})}),e.jsx(S,{padding:"300",background:"bg-surface-info-subdued",borderRadius:"200",children:e.jsxs(r,{gap:"100",children:[e.jsx(i,{variant:"headingSm",children:"Description Ideas"}),e.jsxs(d,{type:"bullet",children:[e.jsxs(d.Item,{children:["Discover our ",t==null?void 0:t.title," collection with exclusive deals"]}),e.jsxs(d.Item,{children:["Shop ",t==null?void 0:t.productsCount," amazing products in our ",t==null?void 0:t.title]})]})]})})]})]})})]})})}),(($=l.data)==null?void 0:$.success)&&e.jsx(ue,{tone:"success",onDismiss:()=>{},children:l.data.message})]})]})}export{Ke as default};
