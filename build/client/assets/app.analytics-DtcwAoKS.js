import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{R as u,u as Z,c as U,r as v}from"./components-DK7TFnBr.js";import{P as G,B as d}from"./Page-BePJ91lz.js";import{T as H}from"./TitleBar-aGDsqF3i.js";import{b as n,c as i,T as s,C as c,I as l,d as p,B as x}from"./ButtonGroup-DgNny8n-.js";import{S as E}from"./Select-BuNxC0mK.js";import{G as b}from"./Grid-88T-Pb-u.js";import{S as $}from"./ViewIcon.svg-CCtJaB3j.js";import{S as y}from"./ChartVerticalFilledIcon.svg-B8ybti0_.js";import{L as M}from"./Layout-CR-2O1w0.js";import{T as Q}from"./Tabs-DgaInJU_.js";import{S as O}from"./CollectionIcon.svg-Cg2nuJZe.js";import{S as P}from"./StarFilledIcon.svg-DTFbSQdL.js";import{L as m}from"./List-DxpaJmNy.js";import{D as q}from"./DataTable-whaFcay8.js";import{S as K}from"./ChartVerticalIcon.svg-BXHDKIYl.js";import{a as J,S as _}from"./CheckIcon.svg-DaHPfNLC.js";import{P as ee}from"./ProgressBar-CUIdQP7m.js";import{S as ae}from"./Modal-Bmn2ovDN.js";import{S as se}from"./ImportIcon.svg-BseU5CJf.js";import{S as re}from"./MagicIcon.svg-Cq1XyIoH.js";import{S as ne}from"./RefreshIcon.svg-dwuhltUX.js";import"./context-BTIEeRbG.js";import"./context-xI5rfeLT.js";import"./FormLayout-DjxgjPJB.js";import"./EditIcon.svg-BMATWsJy.js";import"./DuplicateIcon.svg-Sg-cNaY3.js";import"./InfoIcon.svg-DN5ziCfk.js";import"./PlusIcon.svg-BfuTfPyI.js";import"./context-C3Cd1xwR.js";var L=function(o){return u.createElement("svg",Object.assign({viewBox:"0 0 20 20"},o),u.createElement("path",{d:"M3.25 3a.75.75 0 0 0 0 1.5h1.612a.25.25 0 0 1 .248.22l1.04 8.737a1.75 1.75 0 0 0 1.738 1.543h6.362a.75.75 0 0 0 0-1.5h-6.362a.25.25 0 0 1-.248-.22l-.093-.78h6.35a2.75 2.75 0 0 0 2.743-2.54l.358-4.652a.75.75 0 0 0-.748-.808h-9.656a1.75 1.75 0 0 0-1.732-1.5h-1.612Z"}),u.createElement("path",{d:"M9 18a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}),u.createElement("path",{d:"M15 17a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}))};L.displayName="CartFilledIcon";var N=function(o){return u.createElement("svg",Object.assign({viewBox:"0 0 20 20"},o),u.createElement("path",{d:"M9.5 6.5a.75.75 0 0 1 1.5 0v.25h.75a.75.75 0 0 1 0 1.5h-2.25a.5.5 0 0 0 0 1h1a2 2 0 1 1 0 4v.25a.75.75 0 0 1-1.5 0v-.25h-.75a.75.75 0 0 1 0-1.5h2.25a.5.5 0 0 0 0-1h-1a2 2 0 1 1 0-4v-.25Z"}),u.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};N.displayName="CashDollarIcon";function Le(){var F,D,A;const{collections:t}=Z(),o=U(),[z,W]=v.useState("7days"),[k,Y]=v.useState("revenue"),[g,V]=v.useState(0),[ie,te]=v.useState(!1),[h,I]=v.useState([]),S=t.reduce((a,r)=>({revenue:a.revenue+r.analytics.revenue,views:a.views+r.analytics.views,orders:a.orders+r.analytics.orders,collections:a.collections+1}),{revenue:0,views:0,orders:0,collections:0}),R=t.length>0?(t.reduce((a,r)=>a+parseFloat(r.analytics.conversionRate),0)/t.length).toFixed(2):"0",T=[...t].sort((a,r)=>{switch(k){case"revenue":return r.analytics.revenue-a.analytics.revenue;case"views":return r.analytics.views-a.analytics.views;case"orders":return r.analytics.orders-a.analytics.orders;case"conversion":return parseFloat(r.analytics.conversionRate)-parseFloat(a.analytics.conversionRate);default:return 0}}).slice(0,10),C=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(a),f=a=>new Intl.NumberFormat("en-US").format(a),B=[{name:"Mon",value:Math.floor(Math.random()*5e3)+2e3},{name:"Tue",value:Math.floor(Math.random()*5e3)+2e3},{name:"Wed",value:Math.floor(Math.random()*5e3)+2e3},{name:"Thu",value:Math.floor(Math.random()*5e3)+2e3},{name:"Fri",value:Math.floor(Math.random()*5e3)+2e3},{name:"Sat",value:Math.floor(Math.random()*5e3)+2e3},{name:"Sun",value:Math.floor(Math.random()*5e3)+2e3}],X=[{id:"overview",content:"Overview",icon:y},{id:"performance",content:"Performance",icon:y},{id:"comparison",content:"Comparison",icon:O},{id:"insights",content:"Insights",icon:P}];return e.jsxs(G,{children:[e.jsx(H,{title:"Collection Analytics"}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #ec4899 100%)",padding:"2rem",borderRadius:"16px",marginBottom:"1.5rem",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:"-50%",right:"-10%",width:"300px",height:"300px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",animation:"pulse 4s ease-in-out infinite"}}),e.jsx("style",{children:`
            @keyframes pulse {
              0%, 100% { transform: scale(1); opacity: 0.1; }
              50% { transform: scale(1.1); opacity: 0.2; }
            }
            
            @keyframes slideIn {
              from { transform: translateY(-20px); opacity: 0; }
              to { transform: translateY(0); opacity: 1; }
            }
            
            .metric-card {
              animation: slideIn 0.5s ease-out;
              transition: all 0.3s ease;
            }
            
            .metric-card:hover {
              transform: translateY(-5px);
              box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            }
          `}),e.jsx(n,{gap:"400",children:e.jsxs(i,{align:"space-between",children:[e.jsxs("div",{children:[e.jsx(s,{as:"h1",variant:"headingXl",children:e.jsx("span",{style:{color:"white",fontWeight:"bold"},children:"Analytics Dashboard"})}),e.jsx(s,{variant:"bodyLg",children:e.jsx("span",{style:{color:"rgba(255,255,255,0.9)"},children:"Track performance and optimize your collections"})})]}),e.jsx(E,{label:"",options:[{label:"Last 7 Days",value:"7days"},{label:"Last 30 Days",value:"30days"},{label:"Last 90 Days",value:"90days"},{label:"This Year",value:"year"}],value:z,onChange:W})]})})]}),e.jsx("div",{style:{marginBottom:"1.5rem"},children:e.jsxs(b,{children:[e.jsx(b.Cell,{columnSpan:{xs:6,sm:3,md:3,lg:3,xl:3},children:e.jsx("div",{className:"metric-card",children:e.jsx(c,{children:e.jsxs(n,{gap:"200",children:[e.jsxs(i,{align:"space-between",children:[e.jsx(l,{source:N,tone:"success"}),e.jsx(d,{tone:"success",children:"+12.5%"})]}),e.jsx(s,{variant:"headingXl",as:"h2",children:C(S.revenue)}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Total Revenue"})]})})})}),e.jsx(b.Cell,{columnSpan:{xs:6,sm:3,md:3,lg:3,xl:3},children:e.jsx("div",{className:"metric-card",style:{animationDelay:"0.1s"},children:e.jsx(c,{children:e.jsxs(n,{gap:"200",children:[e.jsxs(i,{align:"space-between",children:[e.jsx(l,{source:L,tone:"info"}),e.jsx(d,{tone:"info",children:"+8.3%"})]}),e.jsx(s,{variant:"headingXl",as:"h2",children:f(S.orders)}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Total Orders"})]})})})}),e.jsx(b.Cell,{columnSpan:{xs:6,sm:3,md:3,lg:3,xl:3},children:e.jsx("div",{className:"metric-card",style:{animationDelay:"0.2s"},children:e.jsx(c,{children:e.jsxs(n,{gap:"200",children:[e.jsxs(i,{align:"space-between",children:[e.jsx(l,{source:$,tone:"base"}),e.jsx(d,{children:"+15.2%"})]}),e.jsx(s,{variant:"headingXl",as:"h2",children:f(S.views)}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Total Views"})]})})})}),e.jsx(b.Cell,{columnSpan:{xs:6,sm:3,md:3,lg:3,xl:3},children:e.jsx("div",{className:"metric-card",style:{animationDelay:"0.3s"},children:e.jsx(c,{children:e.jsxs(n,{gap:"200",children:[e.jsxs(i,{align:"space-between",children:[e.jsx(l,{source:y,tone:"success"}),e.jsxs(d,{tone:"success",children:[R,"%"]})]}),e.jsxs(s,{variant:"headingXl",as:"h2",children:[R,"%"]}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Avg Conversion"})]})})})})]})}),e.jsxs(M,{children:[e.jsx(M.Section,{children:e.jsx(c,{children:e.jsxs(Q,{tabs:X,selected:g,onSelect:V,children:[g===0&&e.jsxs(n,{gap:"400",children:[e.jsx(s,{variant:"headingMd",children:"Revenue Trend"}),e.jsx("div",{style:{background:"linear-gradient(to bottom, rgba(139, 92, 246, 0.1), transparent)",borderRadius:"8px",padding:"1rem"},children:e.jsx("div",{style:{height:"200px",display:"flex",alignItems:"flex-end",gap:"10px"},children:B.map((a,r)=>{const w=a.value/Math.max(...B.map(j=>j.value))*100;return e.jsxs("div",{style:{flex:1,textAlign:"center"},children:[e.jsx("div",{style:{height:`${w}%`,background:"linear-gradient(to top, #8b5cf6, #3b82f6)",borderRadius:"4px 4px 0 0",position:"relative",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:j=>{j.currentTarget.style.transform="scaleY(1.05)"},onMouseLeave:j=>{j.currentTarget.style.transform="scaleY(1)"},children:e.jsxs("div",{style:{position:"absolute",top:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"10px",fontWeight:"bold"},children:["$",(a.value/1e3).toFixed(1),"k"]})}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:a.name})]},r)})})}),e.jsxs(n,{gap:"200",children:[e.jsx(s,{variant:"headingMd",children:"Quick Stats"}),e.jsxs(m,{type:"bullet",children:[e.jsx(m.Item,{children:e.jsxs(i,{gap:"100",children:[e.jsx(s,{variant:"bodyMd",children:"Best performing collection:"}),e.jsx(d,{tone:"success",children:(F=T[0])==null?void 0:F.title})]})}),e.jsx(m.Item,{children:e.jsxs(i,{gap:"100",children:[e.jsx(s,{variant:"bodyMd",children:"Most viewed collection:"}),e.jsx(d,{tone:"info",children:(D=[...t].sort((a,r)=>r.analytics.views-a.analytics.views)[0])==null?void 0:D.title})]})}),e.jsx(m.Item,{children:e.jsxs(i,{gap:"100",children:[e.jsx(s,{variant:"bodyMd",children:"Highest conversion rate:"}),e.jsx(d,{children:(A=[...t].sort((a,r)=>parseFloat(r.analytics.conversionRate)-parseFloat(a.analytics.conversionRate))[0])==null?void 0:A.title})]})})]})]})]}),g===1&&e.jsxs(n,{gap:"400",children:[e.jsxs(i,{align:"space-between",children:[e.jsx(s,{variant:"headingMd",children:"Top Performing Collections"}),e.jsx(E,{label:"",options:[{label:"By Revenue",value:"revenue"},{label:"By Orders",value:"orders"},{label:"By Views",value:"views"},{label:"By Conversion",value:"conversion"}],value:k,onChange:Y})]}),e.jsx(q,{columnContentTypes:["text","numeric","numeric","numeric","numeric","text"],headings:["Collection","Revenue","Orders","Views","Conversion","Trend"],rows:T.map(a=>{var r;return[e.jsxs(i,{gap:"200",children:[((r=a.image)==null?void 0:r.url)&&e.jsx("img",{src:a.image.url,alt:a.title,style:{width:"32px",height:"32px",objectFit:"cover",borderRadius:"4px"}}),e.jsxs("div",{children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:a.title}),e.jsxs(s,{variant:"bodySm",tone:"subdued",children:[a.productsCount," products"]})]})]}),C(a.analytics.revenue),f(a.analytics.orders),f(a.analytics.views),`${a.analytics.conversionRate}%`,a.analytics.growth>0?e.jsx(d,{tone:"success",children:e.jsxs(i,{gap:"050",children:[e.jsx(l,{source:y}),Math.abs(a.analytics.growth).toFixed(1),"%"]})}):e.jsx(d,{tone:"critical",children:e.jsxs(i,{gap:"050",children:[e.jsx(l,{source:K}),Math.abs(a.analytics.growth).toFixed(1),"%"]})})]})})]}),g===2&&e.jsxs(n,{gap:"400",children:[e.jsx(s,{variant:"headingMd",children:"Collection Comparison"}),e.jsxs(n,{gap:"200",children:[e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Select collections to compare performance metrics"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:t.slice(0,6).map(a=>e.jsx(p,{padding:"300",background:h.includes(a.id)?"bg-surface-selected":"bg-surface",borderWidth:"025",borderColor:"border",borderRadius:"200",onClick:()=>{h.includes(a.id)?I(h.filter(r=>r!==a.id)):h.length<3&&I([...h,a.id])},style:{cursor:"pointer"},children:e.jsxs(i,{gap:"200",align:"center",children:[e.jsx("input",{type:"checkbox",checked:h.includes(a.id),onChange:()=>{}}),e.jsx(s,{variant:"bodyMd",children:a.title})]})},a.id))})]}),h.length>0&&e.jsx(c,{children:e.jsxs(n,{gap:"300",children:[e.jsx(s,{variant:"headingSm",children:"Comparison Results"}),h.map(a=>{const r=t.find(w=>w.id===a);return r?e.jsx(p,{padding:"200",background:"bg-surface-neutral-subdued",borderRadius:"200",children:e.jsxs(n,{gap:"200",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:r.title}),e.jsxs(i,{gap:"400",children:[e.jsxs(s,{variant:"bodySm",children:["Revenue: ",C(r.analytics.revenue)]}),e.jsxs(s,{variant:"bodySm",children:["Orders: ",r.analytics.orders]}),e.jsxs(s,{variant:"bodySm",children:["Conversion: ",r.analytics.conversionRate,"%"]})]})]})},a):null})]})})]}),g===3&&e.jsxs(n,{gap:"400",children:[e.jsx(s,{variant:"headingMd",children:"AI-Powered Insights"}),e.jsxs(n,{gap:"300",children:[e.jsx(p,{padding:"300",background:"bg-surface-success-subdued",borderRadius:"200",children:e.jsxs(i,{gap:"200",align:"start",children:[e.jsx(l,{source:J,tone:"success"}),e.jsxs(n,{gap:"100",children:[e.jsx(s,{variant:"headingSm",children:"Top Opportunity"}),e.jsx(s,{variant:"bodyMd",children:'The "Summer Essentials" collection has 25% higher conversion rate than average. Consider featuring it more prominently.'})]})]})}),e.jsx(p,{padding:"300",background:"bg-surface-warning-subdued",borderRadius:"200",children:e.jsxs(i,{gap:"200",align:"start",children:[e.jsx(l,{source:_,tone:"warning"}),e.jsxs(n,{gap:"100",children:[e.jsx(s,{variant:"headingSm",children:"Improvement Area"}),e.jsx(s,{variant:"bodyMd",children:"3 collections have zero products. Adding products could increase overall revenue by 15%."})]})]})}),e.jsx(p,{padding:"300",background:"bg-surface-info-subdued",borderRadius:"200",children:e.jsxs(i,{gap:"200",align:"start",children:[e.jsx(l,{source:y,tone:"info"}),e.jsxs(n,{gap:"100",children:[e.jsx(s,{variant:"headingSm",children:"Growth Trend"}),e.jsx(s,{variant:"bodyMd",children:"Collections created in the last 30 days show 40% higher engagement. Keep the momentum going!"})]})]})}),e.jsx(p,{padding:"300",background:"bg-surface-neutral-subdued",borderRadius:"200",children:e.jsxs(i,{gap:"200",align:"start",children:[e.jsx(l,{source:P}),e.jsxs(n,{gap:"100",children:[e.jsx(s,{variant:"headingSm",children:"Recommendation"}),e.jsx(s,{variant:"bodyMd",children:"Create seasonal collections 2 weeks before peak shopping periods for maximum impact."})]})]})})]})]})]})})}),e.jsx(M.Section,{variant:"oneThird",children:e.jsxs(n,{gap:"400",children:[e.jsx(c,{children:e.jsxs(n,{gap:"300",children:[e.jsx(s,{variant:"headingMd",children:"Performance Score"}),e.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[e.jsx("div",{style:{width:"120px",height:"120px",margin:"0 auto",background:"conic-gradient(#10b981 0deg 270deg, #e5e7eb 270deg)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:e.jsx("div",{style:{width:"100px",height:"100px",background:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(s,{variant:"heading2xl",as:"span",children:"75"})})}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Your collections are performing well"})]}),e.jsxs(n,{gap:"100",children:[e.jsx(ee,{progress:75,tone:"success"}),e.jsx(s,{variant:"bodySm",children:"75/100 Overall Score"})]})]})}),e.jsx(c,{children:e.jsxs(n,{gap:"300",children:[e.jsx(s,{variant:"headingMd",children:"Quick Actions"}),e.jsx(x,{fullWidth:!0,onClick:()=>o("/app/ai-collections"),children:"Create AI Collection"}),e.jsx(x,{fullWidth:!0,onClick:()=>o("/app/bulk-operations"),children:"Bulk Operations"}),e.jsx(x,{fullWidth:!0,variant:"plain",children:"Export Report"})]})}),e.jsx(c,{children:e.jsxs(n,{gap:"300",children:[e.jsx(s,{variant:"headingMd",children:"Tips"}),e.jsxs(m,{type:"bullet",children:[e.jsx(m.Item,{children:e.jsx(s,{variant:"bodySm",children:"Update collections weekly for better engagement"})}),e.jsx(m.Item,{children:e.jsx(s,{variant:"bodySm",children:"Use high-quality images to increase click rates"})}),e.jsx(m.Item,{children:e.jsx(s,{variant:"bodySm",children:"Create seasonal collections 2 weeks early"})})]})]})})]})})]}),e.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",padding:"1rem",boxShadow:"0 -4px 20px rgba(0,0,0,0.2)",zIndex:1e3},children:e.jsxs(i,{align:"center",gap:"400",children:[e.jsx(x,{size:"large",icon:ae,onClick:()=>o("/app"),children:"Home"}),e.jsx(x,{size:"large",icon:O,onClick:()=>o("/app/collections-enhanced"),children:"Collections"}),e.jsx(x,{size:"large",icon:se,onClick:()=>o("/app/bulk-operations"),children:"Bulk Ops"}),e.jsx(x,{size:"large",icon:re,onClick:()=>o("/app/ai-collections"),children:"AI Magic"}),e.jsx(x,{size:"large",icon:ne,onClick:()=>window.location.reload(),children:"Refresh"})]})}),e.jsx("div",{style:{paddingBottom:"100px"}})]})}export{Le as default};
