import{R as e,r as c}from"./components-DK7TFnBr.js";import{W as S,e as R,k as y,B,I as v,o as _,d,c as w,b as E,T as P,p as F}from"./ButtonGroup-DgNny8n-.js";import{a as A}from"./context-BTIEeRbG.js";import{S as N}from"./InfoIcon.svg-DN5ziCfk.js";import{S as M,a as U}from"./CheckIcon.svg-DaHPfNLC.js";import{S as O}from"./TitleBar-aGDsqF3i.js";var I=function(t){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),e.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),e.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),e.createElement("path",{fillRule:"evenodd",d:"M11.237 3.177a1.75 1.75 0 0 0-2.474 0l-5.586 5.585a1.75 1.75 0 0 0 0 2.475l5.586 5.586a1.75 1.75 0 0 0 2.474 0l5.586-5.586a1.75 1.75 0 0 0 0-2.475l-5.586-5.585Zm-1.414 1.06a.25.25 0 0 1 .354 0l5.586 5.586a.25.25 0 0 1 0 .354l-5.586 5.585a.25.25 0 0 1-.354 0l-5.586-5.585a.25.25 0 0 1 0-.354l5.586-5.586Z"}))};I.displayName="AlertDiamondIcon";const D=c.createContext(!1);var p={Banner:"Polaris-Banner",keyFocused:"Polaris-Banner--keyFocused",withinContentContainer:"Polaris-Banner--withinContentContainer",withinPage:"Polaris-Banner--withinPage",DismissIcon:"Polaris-Banner__DismissIcon","text-success-on-bg-fill":"Polaris-Banner--textSuccessOnBgFill","text-success":"Polaris-Banner__text--success","text-warning-on-bg-fill":"Polaris-Banner--textWarningOnBgFill","text-warning":"Polaris-Banner__text--warning","text-critical-on-bg-fill":"Polaris-Banner--textCriticalOnBgFill","text-critical":"Polaris-Banner__text--critical","text-info-on-bg-fill":"Polaris-Banner--textInfoOnBgFill","text-info":"Polaris-Banner__text--info","icon-secondary":"Polaris-Banner__icon--secondary"};const C={success:{withinPage:{background:"bg-fill-success",text:"text-success-on-bg-fill",icon:"text-success-on-bg-fill"},withinContentContainer:{background:"bg-surface-success",text:"text-success",icon:"text-success"},icon:U},warning:{withinPage:{background:"bg-fill-warning",text:"text-warning-on-bg-fill",icon:"text-warning-on-bg-fill"},withinContentContainer:{background:"bg-surface-warning",text:"text-warning",icon:"text-warning"},icon:M},critical:{withinPage:{background:"bg-fill-critical",text:"text-critical-on-bg-fill",icon:"text-critical-on-bg-fill"},withinContentContainer:{background:"bg-surface-critical",text:"text-critical",icon:"text-critical"},icon:I},info:{withinPage:{background:"bg-fill-info",text:"text-info-on-bg-fill",icon:"text-info-on-bg-fill"},withinContentContainer:{background:"bg-surface-info",text:"text-info",icon:"text-info"},icon:N}};function H(l){const t=c.useRef(null),[s,a]=c.useState(!1);return c.useImperativeHandle(l,()=>({focus:()=>{var n;(n=t.current)==null||n.focus(),a(!0)}}),[]),{wrapperRef:t,handleKeyUp:n=>{n.target===t.current&&a(!0)},handleBlur:()=>a(!1),handleMouseUp:n=>{n.currentTarget.blur(),a(!1)},shouldShowFocus:s}}const J=c.forwardRef(function(t,s){const{tone:a,stopAnnouncements:r}=t,i=c.useContext(S),{wrapperRef:o,handleKeyUp:n,handleBlur:u,handleMouseUp:g,shouldShowFocus:f}=H(s),m=R(p.Banner,f&&p.keyFocused,i?p.withinContentContainer:p.withinPage);return e.createElement(D.Provider,{value:!0},e.createElement("div",{className:m,tabIndex:0,ref:o,role:a==="warning"||a==="critical"?"alert":"status","aria-live":r?"off":"polite",onMouseUp:g,onKeyUp:n,onBlur:u},e.createElement(T,t)))});function T({tone:l="info",icon:t,hideIcon:s,onDismiss:a,action:r,secondaryAction:i,title:o,children:n}){const u=y(),g=c.useContext(S),f=!o&&!g,m=Object.keys(C).includes(l)?l:"info",b=C[m][g?"withinContentContainer":"withinPage"],x={backgroundColor:b.background,textColor:b.text,bannerTitle:o?e.createElement(P,{as:"h2",variant:"headingSm",breakWord:!0},o):null,bannerIcon:s?null:e.createElement("span",{className:p[b.icon]},e.createElement(v,{source:t??C[m].icon})),actionButtons:r||i?e.createElement(_,null,r&&e.createElement(B,Object.assign({onClick:r.onAction},r),r.content),i&&e.createElement(B,Object.assign({onClick:i.onAction},i),i.content)):null,dismissButton:a?e.createElement(B,{variant:"tertiary",icon:e.createElement("span",{className:p[f?"icon-secondary":b.icon]},e.createElement(v,{source:O})),onClick:a,accessibilityLabel:u.translate("Polaris.Banner.dismissButton")}):null},h=n?e.createElement(P,{as:"span",variant:"bodyMd"},n):null;return g?e.createElement(K,x,h):f?e.createElement(j,x,h):e.createElement(W,x,h)}function W({backgroundColor:l,textColor:t,bannerTitle:s,bannerIcon:a,actionButtons:r,dismissButton:i,children:o}){const{smUp:n}=A(),u=o||r;return e.createElement(d,{width:"100%"},e.createElement(E,{align:"space-between"},e.createElement(d,{background:l,color:t,borderStartStartRadius:n?"300":void 0,borderStartEndRadius:n?"300":void 0,borderEndStartRadius:!u&&n?"300":void 0,borderEndEndRadius:!u&&n?"300":void 0,padding:"300"},e.createElement(w,{align:"space-between",blockAlign:"center",gap:"200",wrap:!1},e.createElement(w,{gap:"100",wrap:!1},a,s),i)),u&&e.createElement(d,{padding:{xs:"300",md:"400"},paddingBlockStart:"300"},e.createElement(E,{gap:"200"},e.createElement("div",null,o),r))))}function j({backgroundColor:l,bannerIcon:t,actionButtons:s,dismissButton:a,children:r}){const[i,o]=c.useState("center"),n=c.useRef(null),u=c.useRef(null),g=c.useRef(null),f=c.useCallback(()=>{var x,h,k;const m=(x=n.current)==null?void 0:x.offsetHeight,b=((h=u.current)==null?void 0:h.offsetHeight)||((k=g.current)==null?void 0:k.offsetHeight);!m||!b||(m>b?o("start"):o("center"))},[]);return c.useEffect(()=>f(),[f]),F("resize",f),e.createElement(d,{width:"100%",padding:"300",borderRadius:"300"},e.createElement(w,{align:"space-between",blockAlign:i,wrap:!1},e.createElement(d,{width:"100%"},e.createElement(w,{gap:"200",wrap:!1,blockAlign:i},t?e.createElement("div",{ref:u},e.createElement(d,{background:l,borderRadius:"200",padding:"100"},t)):null,e.createElement(d,{ref:n,width:"100%"},e.createElement(E,{gap:"200"},e.createElement("div",null,r),s)))),e.createElement("div",{ref:g,className:p.DismissIcon},a)))}function K({backgroundColor:l,textColor:t,bannerTitle:s,bannerIcon:a,actionButtons:r,dismissButton:i,children:o}){return e.createElement(d,{width:"100%",background:l,padding:"200",borderRadius:"200",color:t},e.createElement(w,{align:"space-between",blockAlign:"start",wrap:!1,gap:"200"},e.createElement(w,{gap:"150",wrap:!1},a,e.createElement(d,{width:"100%"},e.createElement(E,{gap:"200"},e.createElement(E,{gap:"050"},s,e.createElement("div",null,o)),r))),i))}export{J as B};
